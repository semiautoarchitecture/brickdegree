data={},data.addCourseNegatives=function(a){for(var e=0,t=[],r=0;r<a.length;r++)e!=a[r][0]?(console.log("I think this is a new course "+r+" which is course "+a[r][0]),e=a[r][0],t.push([e,-1,-1])):t.push(a[r]);return t},data.processData=function(a){data.degreeData=$.csv.toArrays(a),console.log(data.degreeData),data.degreeData=data.addCourseNegatives(data.degreeData),data.incrementTargetDegreeIndex(0)},data.calibrateRawBearing=function(a){var e=(360-parseFloat(data.calib)+parseFloat(a))%360;return e},data.currentDegree=function(){return void 0!==data.degreeData?data.degreeData[degreeIndex][2]:-1},data.currentDegreeData=function(){if(void 0!==data.degreeData){var a=data.degreeData[degreeIndex],e={};return e.courseN=a[0],e.brickN=a[1],e.degree=a[2],e}return-1},data.incrementTargetDegreeIndex=function(a){degreeIndex+=a;var e=data.currentDegreeData(),t=e.courseN,r=e.brickN,d=e.degree;brickIndex=r,courseIndex=t,ui.updateTargetDegree()},data.setCompassBearing=function(a){data.currentRawBearing=a,data.currentBearing=data.calibrateRawBearing(a)},data.init=function(){data.calib=0},data.loadData=function(a){$.ajax({type:"GET",url:a,dataType:"text",success:function(a){data.processData(a)}})};